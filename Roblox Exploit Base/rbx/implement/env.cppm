module;

export module rbx.implement.env;

import rbx.api;
import rbx.init;
import rbx.object;
import rbx.constants;

export namespace rbx::implement {
	int getgenv(rbx::State* R) {
		rbx::pushvalue(rbx::main_state, rbx::GLOBALS);
		rbx::pushobject(R, rbx::index2adr(rbx::main_state, -1));
		
		return 1;
	}

	int getrenv(rbx::State* R) {
		rbx::pushvalue(rbx::roblox_state, rbx::GLOBALS);
		rbx::pushobject(R, rbx::index2adr(rbx::roblox_state, -1));

		return 1;
	}
}
